From: =?utf-8?b?55+z5Y2a5paH?= <sbw@sbw.so>
Date: Mon, 20 Nov 2017 10:40:08 +0800
Subject: fix set wrong qss for ddialog
Forwarded: not-needed

Change-Id: Iba3673f4b16d1bcdee3fedf8d30abefc7cf03562
---
 src/widgets/ddialog.cpp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/widgets/ddialog.cpp b/src/widgets/ddialog.cpp
index 00fa474..c9ce3cd 100644
--- a/src/widgets/ddialog.cpp
+++ b/src/widgets/ddialog.cpp
@@ -795,7 +795,8 @@ void DDialog::childEvent(QChildEvent *event)
             // no time to deal with this detail, leave it alone for now.
             if (child->inherits("Dtk::Widget::DLineEdit")) {
                 DThemeManager *dtm = DThemeManager::instance();
-                QString qss = dtm->getQssForWidget("DLineEdit", "light");
+                // NOTE(sbw): want to force reset to light theme.
+                QString qss = dtm->getQssForWidget(child->metaObject()->className(), "light");
 
                 child->setStyleSheet(qss);
                 dtm->disconnect(child);
